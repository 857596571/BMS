(function () {
    'use strict';

    angular.module('app')
        .controller('${className}ListCtrl', ${className}ListCtrl);

    ${className}ListCtrl.$inject = ['$rootScope', '$scope', '${className}Service'];
    function ${className}ListCtrl($rootScope, $scope, ${classname}Service) {

		$scope.title = '${comments}';
		$scope.params = {
            pageNum: 1,
            pageSize: 20,
            orderBy: ''
        };

		$scope.search = function () {
			$rootScope.loading = true;
            ${classname}Service.list($scope.params)
                .then(function (data) {
					$scope.pageInfo = data;
                })
                .finally(function () {
					$rootScope.loading = false;
                    if ($(".navi-wrap").height() > 100)
                        $(".table-responsive").height($(window).height() - $(".app-header").height() - 65 - 56 - 25);
                    else
                        $(".table-responsive").height($(window).height() - $(".app-header").height() -
                            $(".navi-wrap").height() - 65 - 56 - 25);
                })
            ;
        };

			$scope.search();

		$scope.pageChanged = function () {
			$scope.params.pageNum = $scope.pageInfo.pageNum;
				$scope.search();
        };
    }
})();